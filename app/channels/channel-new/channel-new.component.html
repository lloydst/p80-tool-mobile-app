<ScrollLayout [formGroup]="form">
    <StackLayout class="form-group">
        <label text="Channel name:"></label>
        <TextField class="form-control" formControlName="channel"></TextField>
        <label *ngIf="!form.controls.channel.valid" class="text-danger" text="Name is required (minimum 5 characters).">
        </label>
    </StackLayout>
    <StackLayout formArrayName="path">
        <StackLayout *ngFor="let path of form.controls.path.controls; let i=index" class="panel panel-default">
            <StackLayout class="panel-heading ">
                <label text="Address {{i + 1}}"></label>
                <Button *ngIf="form.controls.path.controls.length > 1" (click)="removePath(i)" text="Remove path V" width="auto">
                </Button>
            </StackLayout>
            <StackLayout class="panel-body" [formGroupName]="i" class="border">

                <StackLayout class="form-group">
                    <label text="pathurl"></label>
                    <TextField class="form-control" formControlName="pathurl" hint="/component/news"></TextField>
                </StackLayout>
                <StackLayout class="form-group">
                    <label text="description"></label>
                    <TextField class="form-control" formControlName="description"></TextField>
                </StackLayout>
                <StackLayout class="form-group">
                    <label text="component name"></label>
                    <TextField class="form-control" formControlName="componentName"></TextField>
                </StackLayout>
                <StackLayout class="form-group">
                    <label text="delay"></label>
                    <TextField class="form-control" keyboardType="number" formControlName="delay"></TextField>
                </StackLayout>
                
            </StackLayout>
        </StackLayout>
    </StackLayout>

    
        <Button (tap)="addPath()" width="auto" text="New Path +">
        </Button>
    

    
        <Button (tap)="save()" class="btn btn-primary pull-right" text="Submit"></Button>

    
       
    
</ScrollLayout>

<!-- needs to become this:

<form [formGroup]="form" novalidate (ngSubmit)="save(form)">
    <StackLayout class="form-group">
        <label>Name</label>
        <TextField class="form-control" formControlName="channel">
            <label *ngIf="!myForm.controls.channel.valid" class="text-danger">
                Name is required (minimum 5 characters).
            </label>
    </StackLayout>
    addresses
    <div formArrayName="addresses">
        <div *ngFor="let address of myForm.controls.addresses.controls; let i=index" class="panel panel-default">
            <div class="panel-heading ">
                <span>Address {{i + 1}}</span>
                <a *ngIf="myForm.controls.addresses.controls.length > 1" (click)="removeAddress(i)" style="cursor: default; float: right">
                    X
                </a>
            </div>
            <div class="panel-body" [formGroupName]="i" class="col-md-12 border">
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>street</label>
                        <input type="text" class="form-control" formControlName="street">
                    </div>
                </div>
                <div class="row">
                    <div formArrayName="phonenumber" *ngFor="let number of myForm.controls.addresses.controls[i].controls.phonenumber.controls; let j=index"
                        class="col-md-6">
                        <div [formGroupName]="j">
                            <div class="form-group" style="padding-right:0px">
                                <label>Number</label>
                                <a *ngIf="address.controls.phonenumber.controls.length > 1" (click)="removeNumber(address, j)" style="cursor: default; float: right">X</a>
                                <input type="text" class="form-control" placeholder="Enter Number" formControlName="number">
                            </div>

                        </div>
                        <a class="pull-right" *ngIf="j == address.controls.phonenumber.controls.length-1" (click)="addNumber(address)" style="float: right">Alternate Number +</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="margin-20">
        <a (click)="addAddress()" style="cursor: default; float: right">
            New address +
        </a>
    </div>

    <div class="margin-20">
        <button type="submit" class="btn btn-primary pull-right">Submit</button>
    </div>
    <div class="clearfix"></div>

    <div class="margin-20">
        <pre>form value: <br>{{myForm.value | json}}</pre>
    </div>
</form>-->